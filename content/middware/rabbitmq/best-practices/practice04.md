---
title: "持久消息和持久队列"
description: 持久消息和持久队列最佳实践。
keyword: 云计算,大数据,消息队列,中间件,RabbitMQ
weight: 25
draft: false
---

如果您不能承受丢失任何消息的代价，请确保您的队列声明为`持久`，并且您的消息以传递模式`持久`发送。

为了避免在中间件中丢失消息，需要为中间件重新启动、中间件硬件故障或中间件崩溃时做好准备。

为了确保消息和中间件定义在中间件重新启动后仍然存在，您需要确保它们在磁盘上。在中间件重新启动期间，不持久的消息、交换和队列将会被丢失。

持久性消息需要占用更多的资源。即使您发送的是临时消息，懒惰的队列也会对性能产生相同的影响。对于高性能-请使用瞬态消息。
