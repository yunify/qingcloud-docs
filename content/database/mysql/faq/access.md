---
title: "数据库连接"
description: 本小节主要介绍 MySQL Plus 连接常见问题。 
keywords: mysql plus 连接问题
weight: 15
collapsible: false
draft: false
---

## 外网地址收费吗?

不收费。

目前 MySQL Plus 外网地址绑定的公网 IP 及其产生的流量暂不计费。该公网 IP 由系统后台随机分配，不支持修改。

## 设置 IP 白名单后，是立即生效吗？

不是。 IP 白名单设置后，需等待几分钟才生效。

若久未生效，请提工单反馈联系技术支持排查。

## 申请外网地址后，需要配置安全组吗？

不需要。

为确保外网访问的安全，MySQL Plus 外网安全组由系统维护。系统将根据外网端口自行放行安全组规则，用户无需另行配置和管理。

- 申请外网地址时，集群将自动绑定一个外网安全组，并且系统会根据外网端口（默认3306）自动放行安全组规则，无需另行配置。

- 若外网端口或 IP 白名单被修改，集群关联的外网安全组将自动更新安全组规则，无需另行管理。

## 支持跨区域访问数据库吗？

- **内网访问**：不支持跨区域问数据库。跨区域的云资源之间内网互不相通，需打通网络连接。

- **外网访问**：申请外网地址后，您可以在 IP 白名单中添加跨区域云服务器公网 IP 地址，使用外网地址实现跨区域访问。

## 如何定位本地设备的公网 IP 地址?

通过外网访问 MySQL Plus 数据库前，需要将本地设备的固定公网 IP 添加到白名单。本小节主要介绍如何正确获取本地设备的公网 IP。

1. 设置 IP 白名单。
   
   将本地公网网段或者`0.0.0.0/0`，添加到 MySQL Plus 的白名单，允许全网段可访问数据库。详见[设置 IP 白名单](../../manual/mgt_connect/mgt_whitelist)。
   
   > **说明；** 
   > 
   > `0.0.0.0/0`表示允许任何服务器连接数据库。验证结束后，建议立即删除。

2. 使用客户端或命令行连接数据库，并获取进程信息。

   1. 连接数据库。
   
     ```bash
     mysql -h<外网连接地址> -P3306 -u <数据库用户账号名>> -p -D <数据库名> 
     ```

   2. 执行以下命令获取进程信息。在 Host 行获取本地设备的正确 IP 地址。

     ```bash
     show processlist
     ```

3. 添加本地设备 IP 地址到白名单。
   
   删除步骤一中本地公网网段或者`0.0.0.0/0`，并将步骤二中获取的 IP 地址添加到白名单。
