---
title: "集群信息"
description: test
weight: 2
draft: false
---

## 基本属性

这里显示了集群的基本信息。

![基本属性](../../_images/basic_info.png)


## 服务端口信息

集群提供两个高可用的读写 IP，分别对应于数据的读和写。

* 高可用读 IP：可将请求在 SQL 节点及其副本之间进行负载分担，提高读取性能，消除单点故障。

* 高可用写 IP：始终指向 SQL 主节点。

![高可用读写 IP 信息](../../_images/vip_info.png)


**注解**: 必须使用高可用的读写 IP 来访问集群。由于连接到读 IP 的请求会在所有 SQL 节点及其副本（包括当前的 SQL 主节点）之间负载，所以，当某个连接请求被分配到当前主节点时，也是可写的，反之，若分配到非主节点，则必然是只读的。

## 存储节点信息

展示各个存储节点的节点 ID、后端、节点写 VIP、节点读 VIP 和角色。

![账号](../../_images/display_nodelist.png)

## 监控节点信息

展示监控节点的账号、邮箱、权限和访问地址。

![账号](../../_images/display_grafana.png)

### 账号列表

展示已有账号信息。

![账号](../../_images/display_userlist.png)


### 服务功能

点开基本属性旁边的下拉按钮，可以看到提供的服务功能。

![服务功能](../../_images/service_list.png)


## 节点列表

这里列出节点相关信息，可以选择展示 IP，并使用列出的 IP 来下载同步的日志。同时显示了每个节点的服务状态。

![节点列表](../../_images/node_list.png)


**注解**：这里的 IP 仅供查询和下载同步的日志使用，不能做写入使用。


### 配置参数

这里列出了可以修改并持久化的配置参数。没有标注会重启服务的那些参数，都可以在服务运行时修改，对服务没有影响。

![配置参数](../../_images/env.png)

**注解**：会自动重启服务的参数已经在描述中说明，请在业务低峰时进行修改。

**部分参数说明**：

> 1. `Ftp_user` 和 `Ftp_password`，点击同步日志后，需使用该账号下载节点上的日志，`Ftp_user` 在集群创建后不支持修改。
> 2. `audit-mode` 写审计日志的策略，提供 `None`、`Audit-Read`、`Audit-Write` 和 `Audit-Read-Write` 四种策略，默认为 `NONE`，此时不会记录审计日志。
> 3. `twopc-enable` 分布式事务开关，默认开启。
> 4. `load-balance` 存储节点读写分离开关。默认开启，读请求会路由到存储节点的高可用读 vip。
> 5. `shard-count` 默认 hash 分表数，可选择 8、16、32、64，默认 16。

## 监控告警

可以对集群节点配置告警策略，及时掌握集群的资源和服务状况。

![监控告警](../../_images/alarm.png)


## 备份恢复

可以对集群进行手动备份，也可以在集群列表页面右键选择备份时间进行自动备份。

![手动备份](../../_images/backup.png)
![自动备份](../../_images/auto_backup.png)

如果需要从备份创建出一个独立于原有数据库服务的新数据库服务， 可以在详情页的『备份』标签下右键相应的备份点，再选择『从备份创建集群』即可。

![恢复集群](../../_images/restore.png)

**注解**：恢复集群时会保留原集群的数据库账号密码。