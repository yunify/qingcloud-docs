---
title: "扩容节点"
description: 本小节主要介绍如何扩容 MongoDB 集群。 
keyword: 扩容节点,自动扩容,MongoDB,文档数据库,数据库
weight: 05
collapsible: false
draft: false
---


MongoDB 支持对运行中的数据库服务进行在线扩容，调整 CPU、内存、磁盘空间大小。

- 在 AppCenter 集群管理中心，支持对集群节点批量升级扩容。
- 通过配置集群自动伸缩，支持对集群节点自动扩容磁盘大小。

> **注意**
> 
> 扩容云服务器规格过程，业务将被中断，请在业务低峰期进行。
> 
> 扩容磁盘规格过程，不影响业务正常运行。

本小节主要介绍如何在线扩容 MongoDB 集群，包括创建扩容和自动扩容。

## 约束限制

- 不支持降低资源磁盘规格配置。

## 前提条件

- 已获取管理控制台登录账号和密码，且已获取集群操作权限。
- 已创建 MongoDB 集群，且集群状态为**活跃**。

## 创建扩容

1. 登录管理控制台。
2. 选择**产品与服务** > **数据库与缓存** > **文档数据库 MongoDB**，进入集群管理页面。
3. 点击目标集群 ID，进入集群详情页面。
4. 在**基本属性**模块，点击集群操作下拉菜单。
5. 展开下拉菜单，点击**扩容集群**。
   
   <img src="../../../_images/expansion.png" alt="创建扩容" style="zoom:50%;" />

6. 配置扩容信息。

   分别配置节点云服务器规格和磁盘大小。

7. 确认配置信息无误后，点击**提交**，返回节点列表页面。

   多个节点逐一扩容更新，待集群状态切换为**活跃**，即扩容完毕。

## 自动扩容

自动扩容指当集群磁盘使用率超过一定限制，触发扩容条件，系统将自动扩容集群磁盘大小，不影响集群正常使用。

1. 登录管理控制台。
2. 选择**产品与服务** > **运维与管理** > **自动伸缩**，进入自动伸缩策略管理页面。
3. 点击**创建**，弹出策略基本信息配置窗口。
   
   <img src="../../../_images/auto_expansion.png" alt="自动伸缩策略" style="zoom:50%;" />

4. 配置策略信息。

   **操作类型**选择`扩容应用存储空间`，**资源**选择目标 MongoDB 集群。

5. 确认配置信息无误后，点击**提交**，进入策略详情页面。

    <img src="../../../_images/auto_expansion_rules.png" alt="自动伸缩规则" style="zoom:100%;" />

6. 对各节点分别配置自动扩容规则。
    
    包括定义扩容触发条件和定义操作参数。

7. 当节点磁盘空间使用率触发条件，系统将自动扩容。
   
   自动扩容后，可在策略**历史记录**中查看历史扩容记录。

更多自动扩容磁盘操作说明，请参见[自动伸缩](/operation/autoscaling/manual/autoscaling/)。
