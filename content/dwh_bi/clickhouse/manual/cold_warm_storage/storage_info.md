---
title: "冷热数据存储概述"
description: 本小节主要介绍 ClickHouse 冷热数据存储基本信息。 
keywords: ClickHouse 冷热数据存储；冷热存储；冷热分离；数据冷热分类
weight: 05
collapsible: false
draft: false
---



ClickHouse 内核使用 MergeTree 系列表引擎，支持将数据存储到多个 S3 存储盘中，提供数据冷热分层存储的功能，可大大降低海量数据存储的成本。

- 热数据
  
  访问频次较高的数据，对存储硬盘性能要求比较高，需满足高性能访问的需求，需存储到高性能热数据盘中，例如高性能 SSD 云盘和本地盘。

- 冷数据
  
  访问频次较低的数据，需满足高性价比存储需求，可存储到冷存储盘中，例如 S3 存储盘。

## 存储策略

ClickHouse 的冷热数据存储提供了两种存储策略。

- 默认存储策略
  
  新写入的数据一般直接存储在热数据盘中，提供高效查询。当热数据盘存储容量达到使用阈值时，将最早写入热数据盘的数据自动转移到冷数据盘存储，释放热数据盘存储空间。

- TTL 存储策略
  
  通过配置 TTL 语句，设置数据存储生命周期，将指点时间之前的所有数据存储到冷存储盘中，实现冷数据的指定时间转移存储。

## 注意事项

- 冷热存储功能适用于 ClickHouse `v1.1.7`及以上版本。若低于该版本，请先[升级集群版本](../../cluster_lifecycle/upgrade)。

- 开启冷热存储功能，集群将自动重启。为避免数据丢失，请在业务低峰期操作。

- 当多个表共用一个存储策略时，在 S3 存储盘的数据统一存在同一目录下，不会按照表进行划分目录，可能对运维不友好。
