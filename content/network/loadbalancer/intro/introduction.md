---
title: "什么是负载均衡"
date: 2020-01-30T00:38:25+09:00
description: Test description
weight: 30
draft: false
enableToc: false
keyword: 负载均衡器,
---

## 负载均衡器

负载均衡器可以将来自多个公网地址的访问流量分发到多台主机上， 并支持自动检测并隔离不可用的主机，从而提高业务的服务能力和可用性。 同时，你还可以随时通过添加或删减主机来调整你的服务能力，而且这些操作不会影响业务的正常访问。
负载均衡器支持包括 TCP/UDP 协议的四层代理和 HTTP/HTTPS/SSL 协议的七层代理。
并且四层、七层都支持透明代理，可以让后端主机不做任何更改，直接获取客户端真实IP。
另外，负载均衡器还支持灵活配置多种转发策略，实现高级的自定义转发控制功能。


## 负载均衡器类型

### 公网负载均衡器

公网负载均衡器通过公网IP对外提供服务，将来自公网的客户端请求按照指定的负载均衡策略分发到后端云服务器进行处理。

### 私有网络负载均衡器

私网负载均衡器通过虚IP对外提供服务，将来自同一个VPC的客户端请求按照指定的负载均衡策略分发到后端进行处理。

### 公网+私网负载均衡器集群

即可以通过公网IP对外提供服务，也支持通过虚IP对外提供服务，将来自同一个VPC的客户端请求按照指定的负载均衡策略分发到后端进行处理

## 基本原理

负载均衡器可以将来自多个公网地址的访问流量分发到多台主机上， 并支持自动检测并隔离不可用的主机，从而提高业务的服务能力和可用性。

负载均衡支持以下三种调度算法：


### 轮询算法

依据后端服务器的权重，将请求轮流发送给后端服务器，常用于短连接服务，例如 HTTP 等服务。

### 最少连接

优先将请求发给拥有最少连接数的后端服务器，常用于长连接服务，例如数据库连接等服务。

### 源IP算法

将请求的源IP地址进行Hash运算，得到一个具体的数值，同时对后端服务器进行编号，按照运算结果将请求分发到对应编号的服务器上。这可以使得对不同源IP的访问进行负载分发，同时使得同一个客户端IP的请求始终被派发至某特定的服务器。该方式适合负载均衡无cookie功能的TCP协议。