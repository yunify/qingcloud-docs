---
title: "入门操作"
description: 介绍如何从 Docker Hub 拉取镜像部署容器实例。
keyword: QCI,弹性容器实例,创建QCI实例
draft: false
weight: 5
---

本文指引您从 Docker Hub 拉取 Nginx 镜像创建 QCI 实例并通过公网访问所部署的容器服务。

## 前提条件

已完成[准备工作](../qs_prepare/)。

## 操作步骤

### 步骤1：创建 QCI 实例

1. 登录管理控制台，选择**产品与服务** > **容器服务** > **弹性容器实例(QCI)**，进入**弹性容器实例**页面。

2. 点击**创建**，进入弹性容器实例配置引导页面。

3. 配置容器镜像。

   1. 点击**添加**，弹出**添加容器镜像**窗口。

   2. 配置容器镜像信息。

      <img src="../../_images/add_image.png" style="zoom:50%;" />

      1. 容器镜像：镜像拉取地址。从 Docker Hub 拉取镜像，只需输入镜像名称及版本，本文以 nginx 为例，版本使用 latest。
      2. 仓库类型：选择`公有仓库`。表示从 Docker Hub 拉取镜像。
      3. 端口：保持默认。

   3. 点击**提交**，返回容器镜像配置页面。

4. 点击**下一步**，进入**挂载存储卷**设置页面。

   如果您需要将数据持久化存储，可挂载云硬盘或通过配置文件声明。详细说明请参见[创建 QCI 实例]()。

   本例中，不进行挂载，无须进行配置。

5. 点击**下一步**，进入**网络设置**页面，设置网络参数。

   ![](../../_images/set_qci_net.png)

   1. 选择已经创建好的 VPC 网络及私有网络。
   2. IP 选择`自动分配`。

6. 点击**下一步**，进入**基本信息**设置页面，输入容器组名称及描述。

   ![](../../_images/set_qci_basicinfo.png)

7. 点击**创建**，返回**弹性容器实例**页面，等待实例创建成功。

   创建成功后，可以在列表中看到实例状态为`运行中`。

### 步骤2：公网访问容器服务

1. 在**关联服务**区域，选择 **VPC 网络**，进入 VPC 网络页面。

   ![](../../_images/related_service_vpc.png)

2. 找到 QCI 实例所属 VPC，点击 VPC 名称，进入 VPC 网络详情页。

3. 点击**管理配置**页签，进入**端口转发**页面。

4. 点击**添加规则**，弹出**添加端口转发规则**窗口。

5. 配置转发规则，点击**提交**。

   ​	<img src="../../_images/vpc_forward_rule.png" style="zoom:90%;" />

   - 协议：选择 `TCP`。
   - 源端口：提供外网服务的端口。本例中使用 `8080`。
   - 内网 IP：填写 QCI 实例的私网 IP。在 QCI 实例列表中可以查看。
   - 内网端口：容器服务的内网端口。本例中为 Nginx 服务的默认端口 `80`。

6. 点击**应用修改**，使配置生效。

7. 在左侧导航菜单中，选择**安全** > **安全组**，进入安全组页面。

8. 找到 VPC 所绑定的安全组，点击安全组 ID，进入安全组规则配置页面。

9. 点击**添加规则**，放行 VPC 端口转发中所配置的源端口的下行流量。

   起始端口设置为 VPC 端口转发规则中所配置的源端口。本例中为 `8080`，其他参数保持默认即可。

   <img src="../../_images/vpc_sg_rule.png" style="zoom:80%;" />

10. 点击**提交**，然后点击**应用修改**。

11. 在浏览器输入`http://VPC公网IP:源端口`进行访问，显示如下图，表示容器服务部署成功并正常运行。

    <img src="../../_images/access_nginx_service.png"  />

    
