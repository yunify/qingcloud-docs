---
title: "节点管理"
description: 本小节主要介绍如何管理 QingCloud HBase 集群即诶单。 
keywords: hbase 在线伸缩,节点管理
weight: 15
collapsible: false
draft: false
---

本小节主要介绍如何管理集群节点，包括增加、删除、扩容节点。

## 约束限制

- 不支持新增`HBase 主节点` 和 `HDFS 主节点` 。
  
- `HBase 主节点` 和 `HDFS 主节点` 不允许删除，一次仅支持删除一个 `HBase 从节点`。
  
- 因 HDFS 从节点默认为 2，当 HBase 的从节点数为 2 时就不能再删除节点。

## 前提条件

- 已获取 QingCloud 管理控制台登录账号和密码，且已获取集群操作权限。
- 已创建 HBase 集群，且集群状态为**活跃**。

## 增加节点

1. 录 QingCloud 管理控制台。
2. 选择**产品与服务** > **大数据服务** > **HBase 服务**，进入集群管理页面。
3. 选择目标集群，点击目标集群 ID，进入集群详情页面。
4. 在**节点**页签，点击**新增节点**，弹出节点配置窗口。
   
   ![增加节点](../../_images/add_node.png)

5. 配置节点信息。
   
   可增加 `HBase 从节点` 或 `HBase 客户端`，可以对每个新增节点指定 IP 或选择自动分配。

   `HBase 从节点`最多可增加至200个。

6. 点击**提交**，返回节点列表页面。

   待集群状态切换为**活跃**，即节点添加完毕。

## 删除节点

删除节点过程中会锁定 HBase 集群，节点状态将切换为**更新中**，不支持集群其他生命周期操作。

HBase 支持将即将删除节点上的数据复制其他节点上，即 `Decommission` 过程。`Decommission` 状态可从 HDFS Name Node 的 50070 端口提供的监控信息观察到。若删除节点数据量比较大，`Decommission` 过程会比较长。

> **注意：**
> 
> 删除节点是危险的操作，请谨慎操作。

1. 在**节点**页签，勾选目标节点。

   > **说明：**
   > 
   >一次仅能删除一个节点。若需删除多个节点，需等到上个节点删除后且 `Decommission` 结束才能删除下一个节点，否则将导致数据会丢失。

2. 点击**删除**，弹出节点删除确认窗口。
   
   ![删除节点](../../_images/delete_node.png)

3. 点击**确认**，返回节点列表页面。

   待集群状态切换为**活跃**，即节点删除完毕。

## 纵向伸缩

由于不同节点类型压力值不同，可对 `HBase 主节点` 、 `HDFS 主节点` 、 `HBase 从节点` 和 `HBase 客户端` 分别进行纵向伸缩。

1. 在集群详情页面，点击**基本属性**模块下拉菜单栏。
2. 展开菜单栏，点击**扩容集群**，弹出扩容集群配置窗口。
3. 配置待扩容集群信息。
    
    勾选节点角色，配置节点 CPU、内存和磁盘大小。
   
    ![扩容节点](../../_images/resize.png)

4. 点击**提交**，返回集群详情页面。

   待节点状态切换为**活跃**，即扩容完毕。
