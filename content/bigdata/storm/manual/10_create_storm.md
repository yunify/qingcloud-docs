---
title: "创建 Storm"
description: 本小节主要介绍如何快速创建 Storm。 
keywords: 创建 Storm
weight: 10
collapsible: false
draft: false
---

通常包括 Storm 在内的大数据平台的运维是非常繁琐的，在青云上，您可以在２到３分钟创建一个 Storm 集群。集群支持横向与纵向在线伸缩，还提供了监控告警等功能，使得管理集群异常方便。集群将运行于 100% 二层隔离的私有网络内，结合青云提供的高性能硬盘，在保障高性能的同时兼顾您的数据安全。

>注意：
>
>为了保障数据安全，Storm 集群需要运行在受管私有网络中。所以在创建一个 Storm 集群之前，至少需要一个路由器（或 VPC 网络）和一个受管私有网络，受管私有网络需要和路由器（或 VPC 网络）连接，并开启 DHCP 服务（默认开启）。

## 步骤一：选择基本配置

在创建的对话框中，您需要选择 Storm 版本号、类型、名称、关联的配置组，然后点击下一步。

![](../../_images/create_storm_1.png)

## 步骤二：配置主节点

输入主节点的数量，并选择主节点配置、容量，以定义 master 集群的规模和性能。

![](../../_images/create_storm_2.png)

>注意：
>
>主节点上运行了 Nimbus、DRPC、UI 等服务，建议在生产环境中使用至少 2 个主节点，以实现主节点集群的 HA。主机配置１核2G 仅供测试使用，生产环境建议至少使用 2 核 4G。节点数量和主机配置，在创建之后可以在线伸缩。

## 步骤三：配置从节点

输入从节点的数量，并选择从节点配置、容量，以定义 slave 集群的规模和性能。

![](../../_images/create_storm_3.png)

>注解
>从节点上启用了 Supervisor 服务并运行 Worker 进程，请在生产环境使用至少 2 个从节点，以实现从节点集群的 HA。从节点作为工作节点，通常需要更高的配置。

## 步骤四：配置 RPC 节点

输入 RPC 节点的数量，并选择 RPC 节点配置、容量，以定义 RPC 集群的规模和性能。

![](../../_images/create_storm_4.png)

>注解
>主节点已经启用了 DRPC 服务，因此低负载时 DRPC 节点不是必须的；如果您需要高负载 RPC 服务，可以添加额外的 RPC 节点。

## 步骤五：配置 Zookeeper 和网络

选择 Storm 集群所依赖的 Zookeeper 服务，集群将创建于 ZooKeeper 所在的私有网络中，创建后可以切换到其他私有网络，但需要保证新的私有网络内仍能连接到 Zookeeper。您可以让 DHCP 服务自动分配 Storm 集群各节点的私有网络 IP，也可以手动指定。

![](../../_images/create_storm_5.png)

当 Storm 创建完成之后，您可以查看每个节点的运行状态。如图所示，当节点显示为“活跃”状态，表示该节点启动正常。当每个节点都启动正常后 Storm 集群显示为“活跃”状态，表示您已经可以正常使用 Storm 服务了。

![](../../_images/create_storm_6.png)
