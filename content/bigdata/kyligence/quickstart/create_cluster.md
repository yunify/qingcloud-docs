---
title: "创建 Kyligence 集群"
description: 本小节主要介绍如何快速创建 Kyligence 集群实例。 
keywords: Kyligence 实例, 创建集群,创建实例
weight: 10
collapsible: false
draft: false
---

通过 AppCenter 集群管理控制台，您可以快速创建 QingCloud Kyligence 集群。

本小节主要介绍如何快速创建 QingCloud Kyligence 集群。

## 前提条件

- 已获取 QingCloud 管理控制台登录账号和密码，且账号已实名认证。
- 已获取 Kyligence 集群操作权限。
- 在目标区域，已创建至少一个 VPC 网络和私有网络。
- 已创建至少一个同私有网络的依赖服务 ZooKeeper 集群。
- 已创建至少一个同私有网络的对象存储服务。
- 已创建至少一对可用 API 密钥。

## 操作步骤

1. 登录 QingCloud 管理控制台。
2. 选择**产品与服务** > **大数据服务** > **Kyligence 服务**，进入 Kyligence 集群管理页面。
3. 点击**立即部署**或**创建**，进入应用部署页面。
4. 选择**区域**。
   根据就近原则，选择实例所在区域。
5. 配置实例基本属性、应用版本、网络信息、环境参数等信息。

   a. [基本设置](#基本设置)

   b. 节点设置，包括[HDFS 主节点设置](#可选hdfs-主节点设置)、[YARN 节点设置](#可选yarn-节点设置)、[从节点设置](#可选从节点设置)、[客户端节点络设置](#可选bigdata-client-设置)。

   c. [网络设置](#网络设置)

   d. [依赖服务设置](#依赖服务设置)

   e. [服务环境参数设置](#服务环境参数设置)

   f. [用户协议](#用户协议)

6. 确认配置和费用信息无误后，点击**提交**，创建集群。

   集群创建成功后，可在**集群管理**页面，查看和管理 Kyligence 集群。

   ![集群列表](../../_images/cluster_list.png)

### 基本设置

集群名称、网络、版本、计费方式等基本信息配置。

|<span style="display:inline-block;width:140px">参数</span> |<span style="display:inline-block;width:520px">参数说明</span>|
|:----|:----|
|   UUID     |  系统默认分配的全局唯一标识码，不可修改。  |
|   名称     |  输入当前集群的名称。 <li> 默认为`Kyligence Enterprise`  |
|   描述  |  （可选）对集群的简要描述。   |
|   版本  |  选择集群版本。|
|   资源配置  |  选择资源配置，可选择`kylin`和`自定义`。<li>`kylin`表示规划资源配置，包括1个 HDFS 主节点、1个 YARN节点、3个从节点、1个 client 节点。<li>`自定义`表示需自定义各节点规格。|
|   计费方式 |  选择集群计费方式，可选择按**小时**、**月**、**年**计费。|
|   可用区 |  选择使用区域。 |

![基本设置](../../_images/step_1.png)

### （可选）HDFS 主节点设置

集群 Kyligence HDFS 主节点的资源配置，包括云服务器规格、磁盘大小等。

|<span style="display:inline-block;width:140px">参数</span> |<span style="display:inline-block;width:520px">参数说明</span>|
|:----|:----|
|   CPU     |  选择集群节点云服务器 CPU 规格。  |
|   内存     |  选择集群节点云服务器内存大小。  |
|   实例类型  |  选择集群节点云服务器类型，可选择`性能型`和`超高性能型`。|
|   存储类型  |  选择集群节点存储磁盘类型，可选择`性能型本地盘`和`超高性能型本地盘`。|
|   存储大小 |  配置集群数据和日志存储磁盘大小。磁盘大小决定了数据库最大容量以及 IOPS 能力，请根据业务量，可滑动设置或输入数字配置集群磁盘大小。|

![主节点设置](../../_images/step_2.png)

### （可选）YARN 节点设置

集群 Kyligence YARN 节点的资源配置，包括云服务器规格、磁盘大小等。

|<span style="display:inline-block;width:140px">参数</span> |<span style="display:inline-block;width:520px">参数说明</span>|
|:----|:----|
|   CPU     |  选择集群节点云服务器 CPU 规格。  |
|   内存     |  选择集群节点云服务器内存大小。  |
|   实例类型  |  选择集群节点云服务器类型，可选择`性能型`和`超高性能型`。|
|   存储类型  |  选择集群节点存储磁盘类型，可选择`性能型本地盘`和`超高性能型本地盘`。|
|   存储大小 |  配置集群数据和日志存储磁盘大小。磁盘大小决定了数据库最大容量以及 IOPS 能力，请根据业务量，可滑动设置或输入数字配置集群磁盘大小。|

![YARN 节点设置](../../_images/step_3.png)

### （可选）从节点设置

集群 Kyligence YARN 节点的资源配置，包括云服务器规格、磁盘大小等。

|<span style="display:inline-block;width:140px">参数</span> |<span style="display:inline-block;width:520px">参数说明</span>|
|:----|:----|
|   CPU     |  选择集群节点云服务器 CPU 规格。  |
|   内存     |  选择集群节点云服务器内存大小。  |
|   count     |  设置集群节点数量。最少需设置3个节点。  |
|   实例类型  |  选择集群节点云服务器类型，可选择`性能型`和`超高性能型`。|
|   存储类型  |  选择集群节点存储磁盘类型，可选择`性能型本地盘`和`超高性能型本地盘`。|
|   存储大小 |  配置集群数据和日志存储磁盘大小。磁盘大小决定了数据库最大容量以及 IOPS 能力，请根据业务量，可滑动设置或输入数字配置集群磁盘大小。|

![从节点设置](../../_images/step_4.png)

### （可选）Bigdata client 设置

集群 Kyligence Bigdata client 节点的资源配置，包括云服务器规格、磁盘大小等。

|<span style="display:inline-block;width:140px">参数</span> |<span style="display:inline-block;width:520px">参数说明</span>|
|:----|:----|
|   CPU     |  选择集群节点云服务器 CPU 规格。  |
|   内存     |  选择集群节点云服务器内存大小。  |
|   count     |  设置集群节点数量。可选择0或1个。  |
|   实例类型  |  选择集群节点云服务器类型，可选择`性能型`和`超高性能型`。|
|   存储类型  |  选择集群节点存储磁盘类型，可选择`性能型本地盘`和`超高性能型本地盘`。|
|   存储大小 |  配置集群数据和日志存储磁盘大小。磁盘大小决定了数据库最大容量以及 IOPS 能力，请根据业务量，可滑动设置或输入数字配置集群磁盘大小。|

![client 节点设置](../../_images/step_5.png)

### 网络设置

通过为集群设置独享私有网络，便于网络**过滤控制**，且不影响其它私有网络的设置，可确保数据库的对不同业务进行网络隔离。数据库集群仅可加入已连接路由器的私有网络，且需确保私有网络的 DHCP 处于**打开**状态。

|<span style="display:inline-block;width:140px">参数</span> |<span style="display:inline-block;width:520px">参数说明</span>|
|:----|:----|
|   VPC 网络     |  选择 VPC 网络。<li>默认适配同区域已有 VPC 网络。可在下拉框选择已有私有网络。<li>若无可选网络，可点击**创建 VPC 网络**，创建依赖网络资源。  |
|   私有网络     |  选择私有网络。<li>默认适配同区域 VPC 网络下已有私有网络。可在下拉框选择已有私有网络。<li>若无可选网络，可点击**创建私有网络；**，创建依赖网络资源。  |
|   节点 IP   |  配置节点 IP 地址。<li>默认为`自动分配`。<li> 选择`手动配置`需为各节点配置 IP。  |

![网络设置](../../_images/step_6.png)

### 依赖服务设置

为了保障数据安全，Kyligence 集群需要运行在受管私有网络中，同时由于 Kyligence 依赖于 ZooKeeper，可选其他应用服务。

选择已有 `ZooKeeper 集群`；**其他应用服务**可选设置，其他外部服务的节点接入该服务。

![依赖服务](../../_images/step_7.png)

### 服务环境参数设置

集群环境参数配置。必须配置对象存储桶参数和 API 密钥参数。

点击**更多服务环境参数**，可修改更多集群默认配置。或集群创建成功后，在集群详情页面**配置参数**页签修改参数。

![配置参数](../../_images/step_8.png)

### 用户协议

阅读**云平台 AppCenter 用户协议**，并勾选用户协议。

![用户协议](../../_images/step_9.png)
