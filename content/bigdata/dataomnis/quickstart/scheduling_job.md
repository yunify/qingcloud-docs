---
title: "配置作业依赖/调度"
description: 本小节主要介绍如何配置作业的运行参数和作业调度。 
keywords: 大数据工作台,运行参数,调度设置
weight: 40
collapsible: false
draft: false
---

作业创建并开发完成后，您需要为作业配置运行参数、设置调度策略才可以发布作业。

## 前提条件

作业需要运行在计算集群，请提前创建好计算集群。

## 配置运行参数

1. 在目标工作空间选择**数据开发** > **作业开发**，进入作业开发页面。
2. 选择已创建好的作业，点击右侧的**运行参数**，进入运行参数配置页面。 

   <img src="/bigdata/dataomnis/_images/job_enviroment.png" alt="运行参数" style="zoom:50%;" />

3. 配置运行参数。
   
   - 计算集群：在该页面可以查看和修改运行作业的计算集群。
   - 并行度：配置作业的并发数，不能为 `0`，默认为 `1`。
   - 依赖资源：选择作业运行所需的函数包以及自定义 Connector 包。

4. 配置完成后，点击**确定**，完成运行参数配置。

## 配置作业调度

1. 在目标工作空间选择**数据开发** > **作业开发**，进入作业开发页面。
2. 选择已创建好的作业，点击右侧的**调度设置**，进入调度设置页面。    
   在该页面可以查看作业的基础属性，包括**作业名称**、**作业 ID**、**作业描述**。
3. 设置调度策略。    
   您可以选择[执行一次](#执行一次)或[重复执行](#重复执行)。
4. 设置完成后，点击**确定**，完成作业调度配置。

### 执行一次

| <span style="display:inline-block;width:140px">参数</span>  | <span style="display:inline-block;width:520px">参数说明</span>  |
| :------------- | ------------------------------------------------------------ |
| 执行时间 |  可以选择`发布后立即执行`或在`指定时间`执行。            |
| 并发策略 |  支持三种并发策略：允许、禁止、替换。<li>**允许**：允许多个作业实例同时运行。   <li>**禁止**：只允许一个作业实例运行，如果到达调度周期的执行时间点时，上一个作业实例还未运行完成，则放弃本次实例的运行。  <li> **替换**：只允许一个作业实例运行，如果到达调度周期的执行时间点时，上一个作业实例还未运行完成，则终止运行中的实例，启动新的实例。  |
| 超时时间 |  当前作业执行的最大时长，若超时未完成则强制结束作业，作业执行失败。超时时间为 `0` 表示不设置超时时间。       |

<img src="/bigdata/dataomnis/_images/job_run_one.png" alt="执行一次" style="zoom:50%;" />

### 重复执行

| <span style="display:inline-block;width:140px">参数</span>  | <span style="display:inline-block;width:520px">参数说明</span>  |
| :------------- | ------------------------------------------------------------ |
| 生效时间 |  调度将在有效日期内生效并自动调度。生效时间为空表示不限制有效期。            |
| 调度周期 | 支持`分钟`、`小时`、`日`、`周`、`月`、`年`。选择不同的调度周期，还需设置不同的调度参数。  |
| cron 表达式 |  通过字符串的形式表示周期性的计划任务具体执行时间，由设置的调度周期及相关参数自动生成。      |
| 并发策略 |  支持三种并发策略：允许、禁止、替换。<li>**允许**：允许多个作业实例同时运行。   <li>**禁止**：只允许一个作业实例运行，如果到达调度周期的执行时间点时，上一个作业实例还未运行完成，则放弃本次实例的运行。  <li> **替换**：只允许一个作业实例运行，如果到达调度周期的执行时间点时，上一个作业实例还未运行完成，则终止运行中的实例，启动新的实例。  |
| 超时时间 | 当前作业执行的最大时长，若超时未完成则强制结束作业，作业执行失败。超时时间为 `0` 表示不设置超时时间。     |

<img src="/bigdata/dataomnis/_images/job_run_cycle.png" alt="重复执行" style="zoom:60%;" />