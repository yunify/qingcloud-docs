---
title: "配置作业依赖/调度"
description: 本小节主要介绍。 
keywords: 
weight: 40
collapsible: false
draft: false
---

作业创建并开发完成后，您需要为作业配置环境参数、设置调度策略才可以发布作业。

## 前提条件

- 作业需要运行在计算集群，请提前创建好计算集群。
- 已创建并完成作业开发。

## 配置环境参数

1. 选择已创建好的作业，点击右侧的**环境参数**，进入环境参数配置页面。 

   <img src="../../../../_images/job_enviroment.png" alt="环境参数" style="zoom:50%;" />

2. 基础设置。
   
   - 计算集群：在该页面可以查看和修改作业使用的计算集群。
   - 并行度：作业的并发数。
   
3. 函数配置。

   您可以在此处选择已上传的依赖包和函数包。

## 配置作业调度

1. 选择已创建好的作业，单击右侧的**调度设置**，进入调度设置页面。    
   在该页面可以查看作业的基础属性，包括业务名称、业务 ID、业务描述。
2. 设置调度策略。

   您可以选择**执行一次**或**重复执行**。

3. 设置完成后，单击**确定**，完成调度设置操作。

### 执行一次

| 参数           | 参数说明                                                     |
| :------------- | ------------------------------------------------------------ |
| 执行时间 |  可以选择`发布后立即执行`或在`指定时间`执行。            |
| 重试策略 |  可以选择是否开启出错自动重跑。      |
| 出错重跑最大次数 |  **开启出错自动重跑**才需要设置此参数。      |
| 出错重跑间隔 |  **开启出错自动重跑**才需要设置此参数。      |
| 超时时间 |  当前作业执行的最大时长，若超时未完成则强制结束作业。超时时间为 0 表示不设置超时时间。       |

<img src="../../_images/job_run_one.png" alt="执行一次" style="zoom:50%;" />

### 重复执行

| 参数           | 参数说明                                                     |
| :------------- | ------------------------------------------------------------ |
| 生效时间 |  调度将在有效日期内生效并自动调度。生效时间为空表示不限制有效期。            |
| 并发策略 |  支持三种并发策略：允许、禁止、替换。<li>**允许**：允许多个作业实例同时运行。   <li>**禁止**：只允许一个作业实例运行，如果到达调度周期的执行时间点时，上一个作业实例还未运行完成，则放弃本次实例的运行。  <li> **替换**：只允许一个作业实例运行，如果到达调度周期的执行时间点时，上一个作业实例还未运行完成，则终止运行中的实例，启动新的实例。  |
| 调度周期 | 支持`分钟`、`小时`、`日`、`周`、`月`、`年`。选择不同的调度周期，还需设置不同的调度参数。  |
| cron 表达式 |  通过字符串的形式表示周期性的计划任务具体执行时间，由设置的调度周期及相关参数自动生成。      |
| 重试策略 | 可以选择是否开启出错自动重跑。开启时，若当前作业第一次执行失败，则会自动重试。       |
| 出错重跑最大次数 |  **开启出错自动重跑**才需要设置此参数。       |
| 出错重跑间隔 |  **开启出错自动重跑**才需要设置此参数。       |
| 超时时间 | 当前作业执行的最大时长，若超时未完成则强制结束作业。超时时间为 0 表示不设置超时时间。     |

<img src="../../_images/job_run_cycle.png" alt="重复执行" style="zoom:100%;" />